{% extends 'layout.html' %}

{% block title %}Meal Match - Home{% endblock %}
{% block page %}Meal Match{% endblock %}

{% block content %}
<div style="margin-top: 30px;">
  <h4 style="text-align: center;">Find Recipes by Name or Ingredient</h4>
  
  <form method="GET" action="/search" style="margin-top: 30px;">
    <div class="input-field">
      <input type="text" id="query" name="query" placeholder="e.g. chicken, pasta..." required>
      <label for="query">Search Recipes</label>
    </div>
    <button type="submit" class="btn waves-effect waves-light" style="width: 100%; margin-top: 10px;">Search</button>
  </form>
</div>

{% if recipes %}
  <div style="margin-top: 40px;">
    <h5>Search Results</h5>
    <div class="row">
      {% for recipe in recipes %}
      <div class="col s12 m6 l4">
        <div class="card" style="background-color: #fff; border-radius: 12px;">
          <div class="card-content">
            <span class="card-title" style="font-family: 'Courier New', monospace; color: #be6e46;">
              {{ recipe.name }}
            </span>
            <p><strong>Ingredients:</strong> {{ recipe.ingredients | join(', ') }}</p>
          </div>
          <div class="card-action">
            <a href="/recipe/{{ recipe.id }}" class="btn-small" style="background-color: #247B7B;">View Recipe</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
{% endif %}

{% endblock %}
